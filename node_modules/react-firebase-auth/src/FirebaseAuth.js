import { NativeModules } from 'react-native'

const { FirebaseAuthModule } = NativeModules

class FirebaseAuth {
  get FacebookAuthProvider() {
    return { PROVIDER_ID: 'facebook' }
  }
  get GoogleAuthProvider() {
    return { PROVIDER_ID: 'google' }
  }
  get TwitterAuthProvider() {
    return { PROVIDER_ID: 'twitter' }
  }
  initialize(config) {
    FirebaseAuthModule.initialize(config)
  }
  deleteCurrentUser() {
    return new Promise((resolve, reject) => {
      FirebaseAuthModule.deleteCurrentUser(err => {
        err ? reject(err) : resolve()
      })
    })
  }
  signOut() {
    return new Promise((resolve, reject) => {
      FirebaseAuthModule.signOut(err => {
        err ? reject(err) : resolve()
      })
    })
  }
  invokeGoogleAuth() {
    FirebaseAuthModule.invokeGoogleAuth()
  }
}

module.exports = new FirebaseAuth()
