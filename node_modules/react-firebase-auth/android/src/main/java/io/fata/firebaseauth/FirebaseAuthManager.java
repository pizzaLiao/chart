package io.fata.firebaseauth;

import android.util.Log;
import android.view.View;

import com.facebook.react.modules.core.DeviceEventManagerModule;
import com.facebook.react.uimanager.SimpleViewManager;
import com.facebook.react.uimanager.ThemedReactContext;
import com.google.android.gms.common.SignInButton;

public class FirebaseAuthManager extends SimpleViewManager<SignInButton> {

  private static final String TAG = "ReactNative";
  public static final String REACT_CLASS = "FirebaseAuth";

  @Override
  public String getName() {
    return REACT_CLASS;
  }

  @Override
  protected SignInButton createViewInstance(final ThemedReactContext reactContext) {
    SignInButton button = new SignInButton(reactContext);
    button.setSize(SignInButton.SIZE_STANDARD);
    button.setColorScheme(SignInButton.COLOR_AUTO);
    button.setOnClickListener(new View.OnClickListener() {
      @Override
      public void onClick(View v) {
        reactContext
          .getJSModule(DeviceEventManagerModule.RCTDeviceEventEmitter.class)
          .emit("FirebaseAuthPress", null);
      }
    });
    return button;
  }
}
